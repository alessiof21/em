(function(){"use strict";var e={8607:function(e,t,s){var n=s(9242),i=s(3396);function a(e,t,s,n,a,r){const l=(0,i.up)("my-nav"),o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(l),(0,i.Wm)(o)],64)}var r={},l=s(89);const o=(0,l.Z)(r,[["render",a]]);var c=o,u=s(2483),d=s(7139);const h=e=>((0,i.dD)("data-v-23db270b"),e=e(),(0,i.Cn)(),e),b={class:"main__grid"},_={class:"grid__form"},p={class:"form__flex-container"},f=h((()=>(0,i._)("h5",null,"Добавление нового пользователя",-1))),m=h((()=>(0,i._)("label",{for:"firstName"},"Имя",-1))),g=h((()=>(0,i._)("br",null,null,-1))),v=h((()=>(0,i._)("input",{id:"firstName",type:"text",name:"firstName",required:""},null,-1))),k=h((()=>(0,i._)("br",null,null,-1))),w=h((()=>(0,i._)("label",{for:"nickName"},"Ник",-1))),y=h((()=>(0,i._)("br",null,null,-1))),$=h((()=>(0,i._)("input",{id:"nickName",type:"text",name:"nickName",required:""},null,-1))),N=h((()=>(0,i._)("br",null,null,-1))),U=h((()=>(0,i._)("br",null,null,-1))),x=h((()=>(0,i._)("input",{type:"submit",value:"Создать",class:"btn btn-success"},null,-1))),I={class:"grid__btn-lst"},D={class:"btn-list__flex-container"},C=h((()=>(0,i._)("h5",null,"Вывод списка пользователей",-1))),E={class:"grid__list"},O={key:0},V=h((()=>(0,i._)("p",{class:"textClue"},[(0,i.Uk)("Чтобы изменить данные, отредактируйте текст и нажмите кнопку "),(0,i._)("b",null,"Сохранить"),(0,i.Uk)(".")],-1))),T={class:"list__flex-container"},z=["id"],B=["id","onInput"],Z=["id","onInput"],L=["id","onClick"],j={key:1,class:"textClue"},H=h((()=>(0,i._)("b",null,"Показать список",-1)));function M(e,t,s,a,r,l){return(0,i.wg)(),(0,i.iD)("div",b,[(0,i._)("div",_,[(0,i._)("div",p,[f,(0,i._)("form",{onSubmit:t[0]||(t[0]=(0,n.iM)(((...e)=>l.createUser&&l.createUser(...e)),["prevent"]))},[m,(0,i.Uk)(),g,v,(0,i.Uk)(),k,w,(0,i.Uk)(),y,$,(0,i.Uk)(),N,(0,i.Uk)(),U,x],32)])]),(0,i._)("div",I,[(0,i._)("div",D,[C,(0,i._)("button",{onClick:t[1]||(t[1]=(...e)=>l.showList&&l.showList(...e)),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"Показать список")])]),(0,i._)("div",E,[r.isVisible?((0,i.wg)(),(0,i.iD)("div",O,[V,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(r.users,(e=>((0,i.wg)(),(0,i.iD)("div",T,[((0,i.wg)(),(0,i.iD)("div",{class:"user",id:e.user_id,key:e.user_id},[(0,i._)("div",null,"id: "+(0,d.zw)(e.user_id),1),(0,i._)("div",null,[(0,i.Uk)("Имя: "),(0,i._)("span",{id:`fn${e.user_id}`,contenteditable:"true",onInput:t=>l.editUser(e.user_id)},(0,d.zw)(e.firstName),41,B)]),(0,i._)("div",null,[(0,i.Uk)("Ник: "),(0,i._)("span",{id:`nn${e.user_id}`,contenteditable:"true",onInput:t=>l.editUser(e.user_id)},(0,d.zw)(e.nickName),41,Z)]),(0,i._)("button",{id:`btn${e.user_id}`,disabled:"",onClick:t=>l.saveChanges(e.user_id),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"Сохранить",8,L)],8,z))])))),256))])):((0,i.wg)(),(0,i.iD)("p",j,[(0,i.Uk)(" Здесь будет отображаться список пользователей, если Вы нажмете кнопку "),H,(0,i.Uk)(". ")]))])])}var P=s(4161),Y={data(){return{isVisible:!1,isEdit:!1,users:[],cache:{}}},methods:{createUser(){const e={firstName:"",nickName:""};for(const t in e){const s=document.getElementById(t);e[t]=s.value,s.value=""}P.Z.post("/",e).then((()=>{this.$store.commit("cached",[]),this.isVisible=!1,this.showList()})).catch((e=>console.error(e.message)))},showList(){this.isVisible||P.Z.get("/getUsers").then((e=>{this.users=e.data.slice(0),this.isVisible=!0})).catch((e=>console.error(e.message)))},editUser(e){const t=document.getElementById(`btn${e}`);t.disabled=!1,void 0===this.cache[e]&&(this.cache[e]={firstName:document.getElementById(`fn${e}`).innerText,nickName:document.getElementById(`nn${e}`).innerText})},saveChanges(e){const t=document.getElementById(`btn${e}`);t.disabled=!0;let s=document.getElementById(`fn${e}`).innerText,n=document.getElementById(`nn${e}`).innerText;if(""!==s&&""!==n||(s||=this.cache[e].firstName,n||=this.cache[e].nickName,document.getElementById(`fn${e}`).innerText=s,document.getElementById(`nn${e}`).innerText=n),this.cache[e].firstName!==s||this.cache[e].nickName!==n){const t={user_id:e,firstName:s,nickName:n};P.Z.post("/editUsers",t).then((()=>{this.$store.commit("cached",[])})).catch((e=>console.error(e.message)))}delete this.cache[e]}}};const q=(0,l.Z)(Y,[["render",M],["__scopeId","data-v-23db270b"]]);var K=q;const W=e=>((0,i.dD)("data-v-6c375caa"),e=e(),(0,i.Cn)(),e),F={class:"main__grid"},S={class:"grid__search"},A={class:"search__flex"},G=["hidden"],J={class:"flex__input"},Q={class:"input__flex"},R={class:"grid__list"},X={class:"list__flex"},ee={key:0,class:"textClue"},te=W((()=>(0,i._)("b",null,"История пользователей",-1))),se=W((()=>(0,i._)("i",null,"ID ",-1))),ne=W((()=>(0,i._)("b",null,"поле ввода",-1))),ie=W((()=>(0,i._)("b",null,"Отфильтровать",-1))),ae={key:1,class:"table table-sm"},re=W((()=>(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{scope:"col"},"ID пользователя"),(0,i._)("th",{scope:"col"},"Универсальный ID"),(0,i._)("th",{scope:"col"},"Событие"),(0,i._)("th",{scope:"col"},"Время")])],-1))),le={scope:"row"},oe={class:"grid__pages"},ce={class:"pages__flex"},ue=["disabled"],de=["hidden"],he=["disabled"];function be(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("div",F,[(0,i._)("div",S,[(0,i._)("div",A,[(0,i._)("button",{onClick:t[0]||(t[0]=(...e)=>r.showList&&r.showList(...e)),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"История пользователей"),(0,i._)("span",{hidden:!a.search},(0,d.zw)(a.answer),9,G),(0,i._)("div",J,[(0,i._)("div",Q,[(0,i._)("input",{class:"input__number",onInput:t[1]||(t[1]=e=>a.inputValue=+e.target.value),type:"number",id:"search",name:"search",placeholder:"Введите id"},null,32),(0,i._)("button",{onClick:t[2]||(t[2]=(...e)=>r.filter&&r.filter(...e)),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"Отфильтровать")])])])]),(0,i._)("div",R,[(0,i._)("div",X,[0==a.list["1"]?.length||void 0==a.list["1"]?((0,i.wg)(),(0,i.iD)("p",ee,[(0,i.Uk)(" Чтобы получить список всех пользователей, нажмите кнопку "),te,(0,i.Uk)(". Чтобы получить информацию об определенном пользователе, введите его "),se,(0,i.Uk)("в "),ne,(0,i.Uk)(" в верхнем правом углу и нажмите кнопку "),ie,(0,i.Uk)(". ")])):((0,i.wg)(),(0,i.iD)("table",ae,[re,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.list[`${a.pageNumber+1}`],(e=>((0,i.wg)(),(0,i.iD)("tr",null,[(0,i._)("td",le,(0,d.zw)(e.user_id),1),(0,i._)("td",null,(0,d.zw)(e.user_identificator),1),(0,i._)("td",null,(0,d.zw)(e.user_history),1),(0,i._)("td",null,(0,d.zw)(e.event_date),1)])))),256))])]))])]),(0,i._)("div",oe,[(0,i._)("div",ce,[(0,i._)("button",{disabled:0==a.pageNumber,onClick:t[3]||(t[3]=e=>--a.pageNumber),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"Назад",8,ue),(0,i._)("span",{class:"textID",hidden:!a.search},[(0,i.Uk)(" Страница "),(0,i._)("b",null,(0,d.zw)(a.pageNumber+1),1)],8,de),(0,i._)("button",{disabled:a.pageNumber==a.pages,onClick:t[4]||(t[4]=e=>++a.pageNumber),type:"button",class:"btn btn-success","data-bs-toggle":"button","aria-pressed":"false",autocomplete:"off"},"Вперед",8,he)])])])}s(560);var _e={data(){return{pageNumber:0,pages:0,inputValue:0,list:{},cache:[],search:!1,answer:"Нет пользователей с таким id"}},methods:{async showList(){0===this.$store.state.cache.length&&await P.Z.get("/getHistoryUsers").then((e=>{this.$store.commit("cached",e.data)})).catch((e=>console.error(e.message))),this.search=!0,this.pageNumber=0,this.answer="История всех пользователей",this.paginate(this.$store.state.cache)},filter(){if(0==this.inputValue||0==this.search)return;const e=[];for(let t=0;t<this.$store.state.cache.length;t++)this.$store.state.cache[t].user_id==this.inputValue&&e.push(this.$store.state.cache[t]);this.answer=0==e.length?`Пользователь с id ${this.inputValue} не найден`:`История пользователя с id ${this.inputValue}`,this.paginate(e)},paginate(e){this.pages=0,this.list={},this.list[`${this.pages+1}`]=[];for(let t=0;t<e.length;t++)10==this.list[`${this.pages+1}`].length&&(++this.pages,this.list[`${this.pages+1}`]=[]),this.list[`${this.pages+1}`].push(e[t])}}};const pe=(0,l.Z)(_e,[["render",be],["__scopeId","data-v-6c375caa"]]);var fe=pe;const me=[{path:"/",component:K},{path:"/history",component:fe}],ge=(0,u.p7)({history:(0,u.PO)("/"),routes:me});var ve=ge,ke=s(65),we=(0,ke.MT)({state:function(){return{cache:[]}},getters:{},mutations:{cached(e,t){e.cache=t.slice(0)}},actions:{},modules:{}});const ye={class:"nav nav-tabs",id:"myTab",role:"tablist"},$e={class:"nav-item",role:"presentation"},Ne={class:"nav-item",role:"presentation"};function Ue(e,t,s,n,a,r){return(0,i.wg)(),(0,i.iD)("ul",ye,[(0,i._)("li",$e,[(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Сервис пользователей")]),(0,i._)("li",Ne,[(0,i._)("button",{onClick:t[1]||(t[1]=t=>e.$router.push("/history")),class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"},"Сервис истории пользователей")])])}var xe={name:"my-nav"};const Ie=(0,l.Z)(xe,[["render",Ue]]);var De=Ie,Ce=[De];s(6744);const Ee=(0,n.ri)(c);Ce.forEach((e=>{Ee.component(e.name,e)})),Ee.use(ve).use(we).mount("#app")}},t={};function s(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,n,i,a){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],a=e[u][2];for(var l=!0,o=0;o<n.length;o++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](n[o])}))?n.splice(o--,1):(l=!1,a<r&&(r=a));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[n,i,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,a,r=n[0],l=n[1],o=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(o)var u=o(s)}for(t&&t(n);c<r.length;c++)a=r[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(u)},n=self["webpackChunkem"]=self["webpackChunkem"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(8607)}));n=s.O(n)})();
//# sourceMappingURL=app.69ecc5af.js.map